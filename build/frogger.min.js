var __extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},FroggerJS;!function(t){t.Constants={TILE_SIZE:120,WINDOW_WIDTH:1560,WINDOW_HEIGHT:1200,DISPLAY_BOUNDING:!1,AVAILABLE_LIVES:5,DEFAULT_TEXT_STYLE:{font:"40px Arial",fill:"white"},DEFAULT_TEXT_MARGIN:15},t.Levels=[{goalsNumber:5,board:[{texture:"grass-water-top",touchAllowed:!0},{texture:"water",touchAllowed:!1,mobile:{type:"boat",orientation:"right",speed:1}},{texture:"water",touchAllowed:!1,mobile:{type:"boat",orientation:"left",speed:1.5}},{texture:"water",touchAllowed:!1,mobile:{type:"boat",orientation:"right",speed:1}},{texture:"grass-water-bottom",touchAllowed:!0},{texture:"road-top",touchAllowed:!0,mobile:{type:"car",orientation:"left",speed:1}},{texture:"road-middle-top",touchAllowed:!0,mobile:{type:"car",orientation:"left",speed:1.5}},{texture:"road-middle-bottom",touchAllowed:!0,mobile:{type:"car",orientation:"right",speed:1.5}},{texture:"road-bottom",touchAllowed:!0,mobile:{type:"car",orientation:"right",speed:1}},{texture:"grass",touchAllowed:!0}]}]}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e=function(){function t(t){this.basePath=t,this.sounds={}}return t.prototype.register=function(t,e){if(this.sounds[t])throw new Error("A sound is already registered with the '"+t+"' identifier.");this.sounds[t]=new Howl({src:this.basePath+"/"+e})},t.prototype.play=function(t,e){if(void 0===e&&(e=!1),!this.sounds[t])throw new Error("The specified '"+t+"' identifier doesn't exist.");var i=this.sounds[t];i.off("fade"),i.loop(e),i.play()},t.prototype.stop=function(t){if(!this.sounds[t])throw new Error("The specified '"+t+"' identifier doesn't exist.");this.sounds[t].stop()},t.prototype.fadeIn=function(t,e,i){if(void 0===i&&(i=!1),!this.sounds[t])throw new Error("The specified '"+t+"' identifier doesn't exist.");this.play(t,i),this.sounds[t].fade(0,1,e)},t.prototype.fadeOut=function(t,e){if(!this.sounds[t])throw new Error("The specified '"+t+"' identifier doesn't exist.");var i=this.sounds[t];i.on("fade",function(){i.stop()}),i.fade(i.volume(),0,e)},t.prototype.mute=function(t){for(var e in this.sounds)this.sounds.hasOwnProperty(e)&&this.sounds[e].mute(t)},t}();t.AudioManager=e}(e=t.Audio||(t.Audio={}))}(FroggerJS||(FroggerJS={}));var Utils;!function(t){var e=function(){function t(){this.handlers=[]}return t.prototype.register=function(t,e){e||(e=this),this.handlers.push({handler:t,context:e})},t.prototype.unregister=function(t,e){e||(e=this),this.handlers=this.handlers.filter(function(i){return i.handler!==t&&i.context!==e})},t.prototype.invoke=function(t){this.handlers.slice(0).forEach(function(e){return e.handler.call(e.context,t)})},t}();t.Event=e}(Utils||(Utils={}));var FroggerJS;!function(t){var e;!function(t){var e=Utils.Event,i=function(){function t(t,i){void 0===i&&(i="png"),this.onLoadingCompleted=new e,this.loader=PIXI.loader,this.baseResourcesPath=t,this.imageExtension=i;var n=this;this.loader.once("complete",function(){n.onLoadingCompleted.invoke()})}return t.prototype.register=function(t){if(t instanceof Array)for(var e=0;e<t.length;++e)this.registerSingleElement(t[e]);else this.registerSingleElement(t)},t.prototype.get=function(t){if(!this.loader.resources[t])throw new Error('The "'+t+"\" doesn't exist in the resources.");return this.loader.resources[t].texture},t.prototype.load=function(){this.loader.load()},t.prototype.registerSingleElement=function(t){this.loader.add(t,this.baseResourcesPath+"/"+t+"."+this.imageExtension)},t}();t.ImageLoader=i}(e=t.Graphics||(t.Graphics={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e=function(){function t(){this.ticker=PIXI.ticker.shared,this.ticker.autoStart=!1,this.ticker.stop()}return t.prototype.register=function(t){this.ticker.add(t.update,t)},t.prototype.unregister=function(t){this.ticker.remove(t.update,t)},t.prototype.start=function(){this.ticker.start()},t.prototype.stop=function(){this.ticker.stop()},t}();t.Ticker=e}(e=t.Graphics||(t.Graphics={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){function e(t){return void 0!==t.getDisplayObject&&t.getDisplayObject()instanceof PIXI.DisplayObject}t.isRenderable=e}(e=t.Graphics||(t.Graphics={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e=function(){function t(){this.container=new PIXI.Container}return t.prototype.getDisplayObject=function(){return this.container},t.prototype.addChild=function(t){t instanceof PIXI.DisplayObject?this.container.addChild(t):this.container.addChild(t.getDisplayObject())},t.prototype.removeChild=function(t){t instanceof PIXI.DisplayObject?this.container.removeChild(t):this.container.removeChild(t.getDisplayObject())},t.prototype.clear=function(){this.container.removeChildren()},t}();t.Container=e}(e=t.Graphics||(t.Graphics={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){function e(t){return void 0!==t.getBounding}t.isCollidable=e}(e=t.Physics||(t.Physics={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e=function(){function e(t,e,i){this.top=t,this.width=e,this.height=i}return e.prototype.getTop=function(){return this.top},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.isCollide=function(i){if(i instanceof e)return this.top.x<i.getTop().x+i.getWidth()&&this.top.x+this.width>i.getTop().x&&this.top.y<i.getTop().y+i.getHeight()&&this.height+this.top.y>i.getTop().y;if(i instanceof t.CircleBounding)return i.isCollide(this);throw new Error("Unknown bounding.")},e.prototype.getDisplayObject=function(){var t=new PIXI.Graphics;return t.position=this.top,t.alpha=.5,t.beginFill(255),t.drawRect(0,0,this.width,this.height),t.endFill(),t},e}();t.RectangleBounding=e}(e=t.Physics||(t.Physics={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i=t.Physics.RectangleBounding,n=t.Physics.isCollidable,o=function(o){function r(t,e){o.call(this),this.width=t,this.height=e,this.bounding=new i(new PIXI.Point(0,0),this.width,this.height),this.renderer=PIXI.autoDetectRenderer(t,e,{resolution:window.devicePixelRatio}),this.resize(),document.body.appendChild(this.renderer.view),window.addEventListener("resize",this.resize.bind(this))}return __extends(r,o),r.prototype.getBounding=function(){return this.bounding},r.prototype.update=function(t){this.renderer.render(this.container)},r.prototype.addChild=function(i){(i instanceof PIXI.DisplayObject||e.isRenderable(i))&&o.prototype.addChild.call(this,i),t.Constants.DISPLAY_BOUNDING&&n(i)&&this.container.addChild(i.getBounding().getDisplayObject())},r.prototype.resize=function(){var t=Math.min(window.innerWidth/this.width,window.innerHeight/this.height);this.container.scale.x=this.container.scale.y=t,this.renderer.resize(Math.ceil(this.width*t),Math.ceil(this.height*t))},r}(e.Container);e.Scene=o}(e=t.Graphics||(t.Graphics={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i;!function(e){var i=function(){function e(t,e){this.speedDecimal=0,this.speed=t,this.orientation=e}return e.prototype.update=function(e){this.speedDecimal+=this.speed*e;var i=Math.floor(this.speedDecimal);this.speedDecimal=this.speedDecimal%1;var n=this.getDisplayObject();n.position.x+="left"==this.orientation?-i:i,n.position.x>t.Constants.WINDOW_WIDTH+n.width?n.position.x=-n.width:n.position.x<-n.width&&(n.position.x=t.Constants.WINDOW_WIDTH+n.width)},e}();e.Mobile=i}(i=e.Objects||(e.Objects={}))}(e=t.Game||(t.Game={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e=function(){function e(t,e){this.center=t,this.radius=e}return e.prototype.getCenter=function(){return this.center},e.prototype.getRadius=function(){return this.radius},e.prototype.isCollide=function(i){if(i instanceof t.RectangleBounding){var n=i.getWidth()/2,o=i.getHeight()/2,r=Math.abs(this.center.x-i.getTop().x-n),s=Math.abs(this.center.y-i.getTop().y-o);if(r>n+this.radius)return!1;if(s>o+this.radius)return!1;if(r<=n)return!0;if(s<=o)return!0;var a=r-n,h=s-o;return a*a+h*h<=this.radius*this.radius}if(i instanceof e){var a=this.center.x-i.getCenter().x,h=this.center.y-i.getCenter().y,l=Math.sqrt(a*a+h*h);return l<this.radius+i.getRadius()}throw new Error("Unknown bounding.")},e.prototype.getDisplayObject=function(){var t=new PIXI.Graphics;return t.position=this.center,t.alpha=.5,t.beginFill(16711680),t.drawCircle(0,0,this.radius),t.endFill(),t},e}();t.CircleBounding=e}(e=t.Physics||(t.Physics={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i,n=t.Physics.CircleBounding;!function(t){t[t.Up=38]="Up",t[t.Down=40]="Down",t[t.Left=37]="Left",t[t.Right=39]="Right"}(i||(i={}));var o;!function(t){t[t.Up=0]="Up",t[t.Left=3*Math.PI/2]="Left",t[t.Down=Math.PI]="Down",t[t.Right=Math.PI/2]="Right"}(o||(o={}));var r=function(){function e(e){this.tilePosition=void 0,this.deltaPosition=void 0,this.keyUpTexture=e.get("frog"),this.keyDownTexture=e.get("frog-extend"),this.sprite=new PIXI.Sprite(this.keyUpTexture),this.sprite.anchor.x=.5,this.sprite.anchor.y=.5;var r=.3;this.bounding=new n(this.sprite.position,this.sprite.width*r);var s=this;this.onKeyDown=function(t){var e;switch(t.keyCode){case i.Left:e=o.Left;break;case i.Up:e=o.Up;break;case i.Right:e=o.Right;break;case i.Down:e=o.Down}s.sprite.rotation=e,s.sprite.texture=s.keyDownTexture},this.onKeyUp=function(e){var n=t.Constants.TILE_SIZE;switch(s.sprite.texture=s.keyUpTexture,e.keyCode){case i.Left:s.sprite.position.x-n>=0&&(s.sprite.position.x-=n);break;case i.Up:s.sprite.position.y-n>=0&&(s.sprite.position.y-=n);break;case i.Right:s.sprite.position.x+n<=t.Constants.WINDOW_WIDTH&&(s.sprite.position.x+=n);break;case i.Down:s.sprite.position.y+n<=t.Constants.WINDOW_HEIGHT&&(s.sprite.position.y+=n)}s.deltaPosition=void 0,e.keyCode!=i.Up&&e.keyCode!=i.Down||s.updateTilePosition()}}return e.loseLife=function(){if(--e.availableLives<0)throw new Error("Negative live count.")},e.getAvailableLives=function(){return e.availableLives},e.setAvailableLives=function(t){if(t<0)throw new Error("Negative live count.");e.availableLives=t},e.prototype.startPosition=function(){this.sprite.rotation=o.Up,this.sprite.position.x=t.Constants.WINDOW_WIDTH/2,this.sprite.position.y=t.Constants.WINDOW_HEIGHT-this.sprite.height/2,this.updateTilePosition()},e.prototype.follow=function(t){this.deltaPosition||(this.deltaPosition=this.sprite.position.x-t.getDisplayObject().position.x),this.sprite.position.x=t.getDisplayObject().position.x+this.deltaPosition},e.prototype.getLinePosition=function(){return this.tilePosition},e.prototype.getDisplayObject=function(){return this.sprite},e.prototype.getBounding=function(){return this.bounding},e.prototype.updateTilePosition=function(){this.tilePosition=Math.floor(this.sprite.position.y/t.Constants.TILE_SIZE)},e.availableLives=5,e}();e.Actor=r}(e=t.Game||(t.Game={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i;!function(e){var i=t.Physics.CircleBounding,n=function(){function t(t){this.sprite=new PIXI.Sprite(t.get("goal")),this.sprite.anchor.x=.5,this.sprite.anchor.y=.5;var e=.4;this.bounding=new i(this.sprite.position,this.sprite.width*e),this.availability=!0}return t.prototype.getDisplayObject=function(){return this.sprite},t.prototype.getBounding=function(){return this.bounding},t.prototype.isAvailable=function(){return this.availability},t.prototype.setAvailability=function(t){this.availability=t},t}();e.GoalDeck=n}(i=e.Objects||(e.Objects={}))}(e=t.Game||(t.Game={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i;!function(e){var i=t.Physics.RectangleBounding,n=function(t){function e(n,o,r){t.call(this,r,o);var s=Math.floor(Math.random()*e.availableColors.length),a=n.get(e.TYPE+"-"+e.availableColors[s]+"-"+o);this.sprite=new PIXI.Sprite(a),this.bounding=new i(this.sprite.position,this.sprite.width,this.sprite.height)}return __extends(e,t),e.prototype.getDisplayObject=function(){return this.sprite},e.prototype.getBounding=function(){return this.bounding},e.prototype.canBeHit=function(){return!1},e.TYPE="car",e.availableColors=["blue","green","red","white"],e}(e.Mobile);e.Car=n}(i=e.Objects||(e.Objects={}))}(e=t.Game||(t.Game={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i;!function(e){var i=t.Physics.RectangleBounding,n=function(t){function e(n,o,r){t.call(this,r,o);var s=Math.floor(Math.random()*e.availableColors.length),a=n.get(e.TYPE+"-"+e.availableColors[s]+"-"+o);this.sprite=new PIXI.Sprite(a),this.bounding=new i(this.sprite.position,this.sprite.width,this.sprite.height)}return __extends(e,t),e.prototype.getDisplayObject=function(){return this.sprite},e.prototype.getBounding=function(){return this.bounding},e.prototype.canBeHit=function(){return!0},e.TYPE="boat",e.availableColors=["red","yellow"],e}(e.Mobile);e.Boat=n}(i=e.Objects||(e.Objects={}))}(e=t.Game||(t.Game={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e;!function(t){var e=function(){function e(t){this.imageLoader=t}return e.prototype.createMobile=function(e,i,n){switch(e.toLowerCase()){case t.Car.TYPE:return new t.Car(this.imageLoader,i,n);case t.Boat.TYPE:return new t.Boat(this.imageLoader,i,n)}throw new Error("The mobile name doesn't exist.")},e}();t.MobileFactory=e}(e=t.Objects||(t.Objects={}))}(e=t.Game||(t.Game={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i=t.Game.Objects.MobileFactory,n=t.Game.Objects.GoalDeck,o=function(){function e(t){this.imageLoader=t,this.mobileFactory=new i(t)}return e.prototype.parse=function(e){if(!e.hasOwnProperty("goalsNumber"))throw new Error("'Goals Number' property is missing.");if(!e.hasOwnProperty("board"))throw new Error("Board property is missing.");if(e.board.length!=t.Constants.WINDOW_HEIGHT/t.Constants.TILE_SIZE)throw new Error("The level configuration isn't valid.");for(var i={tiles:[],mobiles:[],goals:[],touchAllowedStatus:[]},o=t.Constants.WINDOW_WIDTH/t.Constants.TILE_SIZE,r=e.board,s=0;s<r.length;++s){if(!r[s].hasOwnProperty("texture"))throw new Error("Texture property is missing.");if(!r[s].hasOwnProperty("touchAllowed"))throw new Error("TouchAllowed property is missing.");i.touchAllowedStatus.push(r[s].touchAllowed),i.tiles[s]=[];for(var a=this.imageLoader.get(r[s].texture),h=0;h<o;++h){var l=new PIXI.Sprite(a);l.x=h*t.Constants.TILE_SIZE,l.y=s*t.Constants.TILE_SIZE,i.tiles[s].push(l)}i.mobiles[s]=[],r[s].hasOwnProperty("mobile")&&(i.mobiles[s]=this.parseMobile(r[s].mobile,s))}for(var c=.5*t.Constants.TILE_SIZE,u=t.Constants.WINDOW_WIDTH/(2*e.goalsNumber),s=0;s<e.goalsNumber;++s){var g=new n(this.imageLoader),p=g.getDisplayObject();p.x=u*(2*s+1),p.y=c,i.goals.push(g)}return i},e.prototype.parseMobile=function(e,i){var n=2.5,o=[];if(!e.hasOwnProperty("type"))throw new Error("Type property is missing.");if(!e.hasOwnProperty("orientation"))throw new Error("Rotation property is missing.");if(!e.hasOwnProperty("speed"))throw new Error("Speed property is missing.");var r=0,s=0;do{var a=this.mobileFactory.createMobile(e.type,e.orientation,e.speed),h=a.getDisplayObject();h.x=r,h.y=i*t.Constants.TILE_SIZE,s=h.width,r+=s+Math.floor(Math.random()*n*s+s),o.push(a)}while(r<t.Constants.WINDOW_WIDTH);return o},e}();e.LevelParser=o}(e=t.Game||(t.Game={}))}(FroggerJS||(FroggerJS={}));var Utils;!function(t){!function(t){t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t[t.Error=4]="Error"}(t.LogLevel||(t.LogLevel={}));var e=t.LogLevel,i=function(){function t(){}return t.logMessage=function(i,n){if(void 0===n&&(n=e.Debug),!(t.activeLogLevel>n))switch(n){case e.Debug:console.log("[DEBUG] "+i);break;case e.Info:console.info("[INFO] "+i);break;case e.Warning:console.warn("[WARNING] "+i);break;case e.Error:console.error("[ERROR] "+i)}},t.activeLogLevel=e.Debug,t}();t.Logger=i}(Utils||(Utils={}));var FroggerJS;!function(t){var e;!function(e){var i=t.Game.Actor,n=Utils.Event,o=Utils.Logger,r=function(){function r(o,r){this.isLevelLoaded=!1,this.onGameOver=new n,this.onNextLevel=new n,this.imageLoader=o,this.scene=r,this.levelParser=new e.LevelParser(o),this.labels={livesCount:new PIXI.Text("",t.Constants.DEFAULT_TEXT_STYLE),currentLevel:new PIXI.Text("",t.Constants.DEFAULT_TEXT_STYLE)};var s=t.Constants.WINDOW_HEIGHT/t.Constants.TILE_SIZE*t.Constants.TILE_SIZE-t.Constants.DEFAULT_TEXT_MARGIN;this.labels.livesCount.anchor.x=1,this.labels.livesCount.anchor.y=1,this.labels.currentLevel.anchor.y=1,this.labels.livesCount.x=t.Constants.WINDOW_WIDTH-t.Constants.DEFAULT_TEXT_MARGIN,this.labels.currentLevel.x=t.Constants.DEFAULT_TEXT_MARGIN,this.labels.livesCount.y=s,this.labels.currentLevel.y=s,i.setAvailableLives(t.Constants.AVAILABLE_LIVES)}return r.prototype.setupLevel=function(e){this.isLevelLoaded&&this.destroyLevel(),o.logMessage("Initialize level "+e.level+"...");var n=t.Levels[0],r=this.levelParser.parse(n);this.mobiles=r.mobiles,this.goals=r.goals,this.touchAllowedStatus=r.touchAllowedStatus;for(var s=0;s<r.tiles.length;++s)for(var a=0;a<r.tiles[s].length;++a)this.scene.addChild(r.tiles[s][a]);for(var s=0;s<this.mobiles.length;++s)for(var a=0;a<this.mobiles[s].length;++a)this.scene.addChild(this.mobiles[s][a]);for(var s=0;s<this.goals.length;++s)this.scene.addChild(this.goals[s]);this.generateActor(),this.labels.livesCount.text="LIVES: "+i.getAvailableLives(),this.labels.currentLevel.text="LEVEL "+e.level,this.scene.addChild(this.labels.livesCount),this.scene.addChild(this.labels.currentLevel),this.isLevelLoaded=!0},r.prototype.destroyLevel=function(){this.isLevelLoaded&&(document.removeEventListener("keydown",this.actor.onKeyDown),document.removeEventListener("keyup",this.actor.onKeyUp),this.isLevelLoaded=!1)},r.prototype.update=function(t){if(!this.isLevelLoaded)throw new Error("No level is loaded.");for(var e=0;e<this.mobiles.length;++e){for(var i=!1,n=0;n<this.mobiles[e].length;++n)if(this.mobiles[e][n].update(t),this.actor.getLinePosition()==e){var o=this.mobiles[e][n];o.getBounding().isCollide(this.actor.getBounding())&&(i=!0,o.canBeHit()?this.actor.follow(o):this.restartLevel())}this.actor.getLinePosition()!=e||i||this.touchAllowedStatus[e]||this.restartLevel()}for(var e=0;e<this.goals.length;++e){var r=this.goals[e];if(0==this.actor.getLinePosition()&&r.isAvailable()&&r.getBounding().isCollide(this.actor.getBounding())){r.setAvailability(!1);var s=this.goals.filter(function(t){return t.isAvailable()}).length;if(this.actor.getDisplayObject().x=r.getDisplayObject().x,this.actor.getDisplayObject().y=r.getDisplayObject().y,0==s)return void this.onNextLevel.invoke();this.generateActor()}}this.scene.getBounding().isCollide(this.actor.getBounding())||this.restartLevel()},r.prototype.generateActor=function(){this.actor&&(document.removeEventListener("keydown",this.actor.onKeyDown),document.removeEventListener("keyup",this.actor.onKeyUp)),this.actor=new i(this.imageLoader),this.actor.startPosition(),document.addEventListener("keydown",this.actor.onKeyDown),document.addEventListener("keyup",this.actor.onKeyUp),this.scene.addChild(this.actor)},r.prototype.restartLevel=function(){i.loseLife(),this.actor.startPosition();var t=i.getAvailableLives();o.logMessage("One live lost. "+t+" live(s) remaining."),this.labels.livesCount.text="LIVES: "+t,t<=0&&this.onGameOver.invoke()},r}();e.GameManager=r}(e=t.Game||(t.Game={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e=function(){function t(){this.states={}}return t.prototype.register=function(t,e){this.states[t]=e},t.prototype.change=function(t){if(!(t in this.states))throw new Error("The specified name for the state doesn't exist.");var e=this.states[t];this.currentState&&this.currentState.leaving(),this.currentState=e,this.currentState.entered()},t}();t.StateManager=e}(e=t.States||(t.States={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e;!function(t){var e=Utils.Event,i=function(){function t(t,i,n,o){function r(){this.texture=a.clickedTexture}function s(){a.onClick.invoke(),this.texture=a.defaultTexture}void 0===n&&(n=""),this.onClick=new e,this.defaultTexture=t,this.clickedTexture=i,this.sprite=new PIXI.Sprite(this.defaultTexture),this.sprite.interactive=!0,this.sprite.on("mousedown",r).on("mouseup",s).on("mouseupoutside",s).on("touchstart",r).on("touchend",s).on("touchendoutside",s),this.text=o?new PIXI.Text(n,o):new PIXI.Text(n),this.text.anchor.x=.5,this.text.anchor.y=.5,this.text.position.y=.5*this.sprite.height,this.sprite.addChild(this.text);var a=this}return t.prototype.getDisplayObject=function(){return this.sprite},t.prototype.setText=function(t){this.text.text=t},t.prototype.setTextStyle=function(t){this.text.style=t},t}();t.Button=i}(e=t.Controls||(t.Controls={}))}(e=t.Views||(t.Views={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i=t.Constants,n=t.Graphics.Container,o=t.Views.Controls.Button,r=Utils.Event,s=function(){function e(e){this.onPlayClicked=new r,this.onSettingsClicked=new r,this.container=new n;var s=250,a={font:"60px Arial",fill:"white"},h=.5*t.Constants.WINDOW_WIDTH,l=new PIXI.extras.TilingSprite(e.get("menu-background"),i.WINDOW_WIDTH,i.WINDOW_HEIGHT),c=new PIXI.extras.TilingSprite(e.get("menu-stripe"),i.WINDOW_WIDTH,s);c.y=1.2*i.TILE_SIZE;var u=new PIXI.Sprite(e.get("menu-logo"));u.anchor.x=.5,u.x=h,u.y=1.5*i.TILE_SIZE;var g=e.get("menu-button"),p=e.get("menu-button-clicked"),d=new o(g,p,"PLAY",a);d.onClick.register(function(){this.onPlayClicked.invoke()},this);var f=d.getDisplayObject();f.anchor.x=.5,f.x=h,f.y=4.5*i.TILE_SIZE;var v=new o(g,p,"SETTINGS",a);v.onClick.register(function(){this.onSettingsClicked.invoke()},this);var y=v.getDisplayObject();y.anchor.x=.5,y.x=h,y.y=6*i.TILE_SIZE,this.container.addChild(l),this.container.addChild(c),this.container.addChild(u),this.container.addChild(d),this.container.addChild(v)}return e.prototype.getDisplayObject=function(){return this.container.getDisplayObject()},e}();e.MainMenuView=s}(e=t.Views||(t.Views={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(e){var i=Utils.Logger,n=t.Views.MainMenuView,o=function(){function t(t,e,i,o){this.scene=t,this.audioManager=i,this.stateManager=o,this.mainMenuView=new n(e),this.mainMenuView.onPlayClicked.register(function(){this.stateManager.change("level1")},this)}return t.prototype.entered=function(){i.logMessage("Entered in 'Main Menu State'."),this.scene.clear(),this.scene.addChild(this.mainMenuView),this.audioManager.fadeIn(t.SOUND_NAME,t.FADE_DURATION,!0)},t.prototype.leaving=function(){this.audioManager.fadeOut(t.SOUND_NAME,t.FADE_DURATION),this.scene.clear(),i.logMessage("Leaving the 'Main Menu State'.")},t.SOUND_NAME="menu",t.FADE_DURATION=500,t}();e.MainMenuState=o}(e=t.States||(t.States={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e=Utils.Logger,i=function(){function t(t,e,i,n){this.gameManager=t,this.levelConfiguration=e,this.ticker=i,this.stateManager=n}return t.prototype.entered=function(){e.logMessage("Entered in 'Game Level "+this.levelConfiguration.level+" State'."),this.gameManager.onGameOver.register(this.gameOverOccurred,this),this.gameManager.onNextLevel.register(this.nextLevelOccurred,this),this.gameManager.setupLevel(this.levelConfiguration),this.ticker.register(this.gameManager)},t.prototype.leaving=function(){this.ticker.unregister(this.gameManager),this.gameManager.onGameOver.unregister(this.gameOverOccurred,this),this.gameManager.onNextLevel.unregister(this.nextLevelOccurred,this),this.gameManager.destroyLevel(),e.logMessage("Leaving the 'Game Level "+this.levelConfiguration.level+" State'.")},t.prototype.gameOverOccurred=function(){this.stateManager.change("mainMenu")},t.prototype.nextLevelOccurred=function(){var t=this.levelConfiguration.level+1;this.levelConfiguration.levelsCount>=t?this.stateManager.change("endGame"):this.stateManager.change("level"+t)},t}();t.GameLevelState=i}(e=t.States||(t.States={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e;!function(t){var e=Utils.Logger,i=function(){function t(){}return t.prototype.entered=function(){e.logMessage("Entered in 'End Game State'.")},t.prototype.leaving=function(){e.logMessage("Leaving the 'End Game State'.")},t}();t.EndGameState=i}(e=t.States||(t.States={}))}(FroggerJS||(FroggerJS={}));var FroggerJS;!function(t){var e=t.Audio.AudioManager,i=t.Graphics.ImageLoader,n=t.Graphics.Scene,o=t.Graphics.Ticker,r=t.Game.GameManager,s=t.States.StateManager,a=t.States.MainMenuState,h=t.States.GameLevelState,l=t.States.EndGameState,c=Utils.Logger,u=Utils.LogLevel,g=function(){function g(){}return g.initialize=function(){c.activeLogLevel=u.Debug,PIXI.utils._saidHello=!0,c.logMessage("Initialize Frogger.js...",u.Info),c.logMessage("Loading resources...",u.Info);var p=new e("assets/sounds");p.register("menu","menu.wav");var d=new i("assets/sprites");d.register(g.resources),d.onLoadingCompleted.register(function(){c.logMessage("Resources loaded.",u.Info);var e=new o,i=new n(t.Constants.WINDOW_WIDTH,t.Constants.WINDOW_HEIGHT),g=new r(d,i),f=new s;f.register("mainMenu",new a(i,d,p,f)),f.register("level1",new h(g,{level:1,levelsCount:2},e,f)),f.register("level2",new h(g,{level:2,levelsCount:2},e,f)),f.register("endGame",new l),f.change("mainMenu"),e.register(i),e.start()}),d.load()},g.resources=["boat-red-left","boat-red-right","boat-yellow-left","boat-yellow-right","car-blue-left","car-blue-right","car-green-left","car-green-right","car-red-left","car-red-right","car-white-left","car-white-right","frog","frog-extend","goal","menu-background","menu-button","menu-button-clicked","menu-logo","menu-stripe","grass","grass-water-top","grass-water-bottom","water","road-top","road-middle-top","road-middle-bottom","road-bottom"],g}();t.App=g}(FroggerJS||(FroggerJS={})),FroggerJS.App.initialize();
//# sourceMappingURL=frogger.min.js.map
